import{S as Q,i as V,s as X,I as B,e as v,h as E,g as Z,t as C,a as k,T as j,P as $,b as R,k as c,m as H,U as x,o as ee,p as P,q as y,r as J,w as M,u as I,d as z,y as q,z as te,L as le}from"./index.6af32dc5.js";function A(l,t,e){const i=l.slice();return i[10]=t[e],i}function ie(l){let t,e,i;return e=new B({props:{name:"up-long",size:".8",style:"display: inline;",color:"var(--color-bg-green)"}}),{c(){t=v("div"),E(e.$$.fragment),k(t,"class","terminal-col1 svelte-1r2v58c")},m(s,r){R(s,t,r),H(e,t,null),i=!0},i(s){i||(y(e.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),i=!1},d(s){s&&z(t),q(e)}}}function se(l){let t,e,i;return e=new B({props:{name:"down-long",size:".8",style:"display: inline;",color:"var(--color-bg-blue)"}}),{c(){t=v("div"),E(e.$$.fragment),k(t,"class","terminal-col1 svelte-1r2v58c")},m(s,r){R(s,t,r),H(e,t,null),i=!0},i(s){i||(y(e.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),i=!1},d(s){s&&z(t),q(e)}}}function ne(l){let t,e=l[10].timestampISO.split("T")[1].slice(3).split(".")[0]+"",i;return{c(){t=v("span"),i=C(e)},m(s,r){R(s,t,r),c(t,i)},p(s,r){r&1&&e!==(e=s[10].timestampISO.split("T")[1].slice(3).split(".")[0]+"")&&P(i,e)},d(s){s&&z(t)}}}function re(l){let t,e=l[10].timestampISO.split("T")[1].split("Z")[0]+"",i;return{c(){t=v("span"),i=C(e)},m(s,r){R(s,t,r),c(t,i)},p(s,r){r&1&&e!==(e=s[10].timestampISO.split("T")[1].split("Z")[0]+"")&&P(i,e)},d(s){s&&z(t)}}}function ae(l){let t,e=l[10].timestampISO.split("T")[0]+"",i,s,r,u=l[10].timestampISO.split("T")[1].split("Z")[0]+"",a;return{c(){t=v("span"),i=C(e),s=Z(),r=v("span"),a=C(u)},m(o,_){R(o,t,_),c(t,i),R(o,s,_),R(o,r,_),c(r,a)},p(o,_){_&1&&e!==(e=o[10].timestampISO.split("T")[0]+"")&&P(i,e),_&1&&u!==(u=o[10].timestampISO.split("T")[1].split("Z")[0]+"")&&P(a,u)},d(o){o&&z(t),o&&z(s),o&&z(r)}}}function G(l){let t,e,i,s,r,u,a,o,_=l[10].data+"",h,D,b;const d=[se,ie],T=[];function K(m,S){return m[10].wasReceived?0:1}e=K(l),i=T[e]=d[e](l);function O(m,S){return m[4]==="datetime"?ae:m[4]==="time"?re:ne}let F=O(l),g=F(l);return{c(){t=v("div"),i.c(),s=Z(),r=v("div"),g.c(),u=Z(),a=v("div"),o=v("pre"),h=C(_),D=Z(),k(r,"class","terminal-col2 svelte-1r2v58c"),k(a,"class","terminal-col3"),k(t,"class","terminal-line textButton svelte-1r2v58c")},m(m,S){R(m,t,S),T[e].m(t,null),c(t,s),c(t,r),g.m(r,null),c(t,u),c(t,a),c(a,o),c(o,h),c(t,D),b=!0},p(m,S){let L=e;e=K(m),e!==L&&(J(),I(T[L],1,1,()=>{T[L]=null}),M(),i=T[e],i||(i=T[e]=d[e](m),i.c()),y(i,1),i.m(t,s)),F===(F=O(m))&&g?g.p(m,S):(g.d(1),g=F(m),g&&(g.c(),g.m(r,null))),(!b||S&1)&&_!==(_=m[10].data+"")&&P(h,_)},i(m){b||(y(i),b=!0)},o(m){I(i),b=!1},d(m){m&&z(t),T[e].d(),g.d()}}}function oe(l){let t,e,i,s,r,u,a=l[4]==="datetime"?"Date Time":"Time",o,_,h,D,b,d,T,K,O,F,g,m,S,L,U;s=new B({props:{name:"up-down",size:".8",style:"display: inline;"}}),h=new B({props:{name:"arrows-rotate",size:".8",style:"display: inline;",color:"var(--color-text-dim)"}}),T=new B({props:{name:"up-long",size:".8",style:"display: inline;",color:"var(--color-bg-green)"}}),O=new B({props:{name:"down-long",size:".8",style:"display: inline;",color:"var(--color-bg-blue)"}});let W=l[0],f=[];for(let n=0;n<W.length;n+=1)f[n]=G(A(l,W,n));const N=n=>I(f[n],1,1,()=>{f[n]=null});return{c(){t=v("section"),e=v("div"),i=v("div"),E(s.$$.fragment),r=Z(),u=v("button"),o=C(a),_=Z(),E(h.$$.fragment),D=Z(),b=v("pre"),d=C("Sent "),E(T.$$.fragment),K=C(" / Received "),E(O.$$.fragment),F=Z(),g=v("div");for(let n=0;n<f.length;n+=1)f[n].c();k(i,"class","terminal-col1 svelte-1r2v58c"),k(u,"class","terminal-col2 textButton svelte-1r2v58c"),k(b,"class","terminal-col3"),k(e,"class","terminal-header svelte-1r2v58c"),k(g,"class","terminal-lines svelte-1r2v58c"),k(t,"class","terminal svelte-1r2v58c"),j(t,"--col2-width",l[3]),$(()=>l[9].call(t))},m(n,w){R(n,t,w),c(t,e),c(e,i),H(s,i,null),c(e,r),c(e,u),c(u,o),c(u,_),H(h,u,null),c(e,D),c(e,b),c(b,d),H(T,b,null),c(b,K),H(O,b,null),c(t,F),c(t,g);for(let p=0;p<f.length;p+=1)f[p].m(g,null);l[8](t),m=x(t,l[9].bind(t)),S=!0,L||(U=ee(u,"click",l[5]),L=!0)},p(n,[w]){if((!S||w&16)&&a!==(a=n[4]==="datetime"?"Date Time":"Time")&&P(o,a),w&17){W=n[0];let p;for(p=0;p<W.length;p+=1){const Y=A(n,W,p);f[p]?(f[p].p(Y,w),y(f[p],1)):(f[p]=G(Y),f[p].c(),y(f[p],1),f[p].m(g,null))}for(J(),p=W.length;p<f.length;p+=1)N(p);M()}(!S||w&8)&&j(t,"--col2-width",n[3])},i(n){if(!S){y(s.$$.fragment,n),y(h.$$.fragment,n),y(T.$$.fragment,n),y(O.$$.fragment,n);for(let w=0;w<W.length;w+=1)y(f[w]);S=!0}},o(n){I(s.$$.fragment,n),I(h.$$.fragment,n),I(T.$$.fragment,n),I(O.$$.fragment,n),f=f.filter(Boolean);for(let w=0;w<f.length;w+=1)I(f[w]);S=!1},d(n){n&&z(t),q(s),q(h),q(T),q(O),te(f,n),l[8](null),m(),L=!1,U()}}}let ce=1e3;function fe(l){let t=(l==null?void 0:l.scrollTop)+(l==null?void 0:l.offsetHeight)+10,e=l==null?void 0:l.scrollHeight;t>=e&&(l.scrollTop+=100,setTimeout(()=>l.scrollTop+=100,5))}function me(l){l.forEach(t=>{t.data=String(t.data).replace(/\r/g,"\\r"),t.data=String(t.data).replace(/\n/g,"\\n")})}function ue(l,t,e){let i,s,{showCRLF:r=!0}=t,{addTestData:u=!1}=t,{lines:a=[{wasReceived:!1,timestampISO:"2022-10-16T21:05:38.425Z",data:'{"boolean": true, "string": "Yes", "number": 200}'},{wasReceived:!0,timestampISO:"2022-10-16T21:05:38.447Z",data:"OFF"},{wasReceived:!1,timestampISO:"2022-10-16T21:05:38.425Z",data:"OFF"},{wasReceived:!0,timestampISO:"2022-10-16T21:05:38.536Z",data:"Weeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee Weeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee!!!"},{wasReceived:!0,timestampISO:"2022-10-16T21:05:38.543Z",data:"OK"}]}=t,o;function _(){i==="datetime"?(e(4,i="time"),e(3,s="6.75rem")):i==="time"?(e(4,i="timeShort"),e(3,s="4rem")):(e(4,i="datetime"),e(3,s="12rem"))}let h;if(u){let d=!1;setInterval(()=>{d&&(a.push({wasReceived:a.length%4,timestampISO:new Date(Date.now()).toISOString(),data:a.length*89*53}),e(0,a))},100),setInterval(()=>d=!d,4*1e3)}function D(d){le[d?"unshift":"push"](()=>{h=d,e(2,h)})}function b(){o=this.offsetWidth,e(1,o)}return l.$$set=d=>{"showCRLF"in d&&e(6,r=d.showCRLF),"addTestData"in d&&e(7,u=d.addTestData),"lines"in d&&e(0,a=d.lines)},l.$$.update=()=>{l.$$.dirty&2&&e(4,i=o>600?"time":"timeShort"),l.$$.dirty&2&&e(3,s=o>600?"6.75rem":"4rem"),l.$$.dirty&1&&a.length>ce&&a.shift(),l.$$.dirty&5&&a&&fe(h),l.$$.dirty&65&&r&&me(a)},[a,o,h,s,i,_,r,u,D,b]}class pe extends Q{constructor(t){super(),V(this,t,ue,oe,X,{showCRLF:6,addTestData:7,lines:0})}}export{pe as T};
