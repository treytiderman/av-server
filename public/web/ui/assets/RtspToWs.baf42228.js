import{S as $,i as x,s as ee,e as n,g as p,t as W,a as s,b as te,k as e,l as v,o as y,n as Z,d as se,A as le,B as ae,O as ne,L as re}from"./index.6af32dc5.js";function pe(t){let l,o,a,d,f,P,R,C,r,w,L,U,q,S,A,T,B,g,H,z,D,i,k,E,b,F,G,I,u,O,K,_,N,Q,V,c,j,X,M,J,Y;return{c(){l=n("article"),o=n("h2"),o.textContent="WebSocket Stream",a=p(),d=n("div"),f=n("label"),P=W("wsUrl"),R=n("br"),C=p(),r=n("input"),L=p(),U=n("button"),U.textContent="Connect",q=p(),S=n("canvas"),A=p(),T=n("h2"),T.textContent="Settings",B=p(),g=n("label"),H=W("rtspUrl"),z=n("br"),D=p(),i=n("input"),E=p(),b=n("label"),F=W("wsPort"),G=n("br"),I=p(),u=n("input"),K=p(),_=n("label"),N=W("frameRate"),Q=n("br"),V=p(),c=n("input"),X=p(),M=n("div"),M.innerHTML=`<button class="red">Stop</button> 
    <button class="green">Start</button>`,s(r,"type","text"),s(r,"placeholder",w=t[0].watch.placeholder.wsUrl),s(r,"class","svelte-17s9psa"),s(f,"class","svelte-17s9psa"),s(U,"class","green"),s(d,"class","flex nowrap align-end"),s(S,"class","svelte-17s9psa"),s(i,"type","text"),s(i,"placeholder",k=t[0].settings.placeholder.rtspUrl),s(i,"class","svelte-17s9psa"),s(g,"class","svelte-17s9psa"),s(u,"type","text"),s(u,"placeholder",O=t[0].settings.placeholder.wsPort),s(u,"class","svelte-17s9psa"),s(b,"class","svelte-17s9psa"),s(c,"type","text"),s(c,"placeholder",j=t[0].settings.placeholder.frameRate),s(c,"class","svelte-17s9psa"),s(_,"class","svelte-17s9psa"),s(M,"class","flex even"),s(l,"class","grid svelte-17s9psa")},m(m,h){te(m,l,h),e(l,o),e(l,a),e(l,d),e(d,f),e(f,P),e(f,R),e(f,C),e(f,r),v(r,t[0].watch.wsUrl),e(d,L),e(d,U),e(l,q),e(l,S),t[3](S),e(l,A),e(l,T),e(l,B),e(l,g),e(g,H),e(g,z),e(g,D),e(g,i),v(i,t[0].settings.rtspUrl),e(l,E),e(l,b),e(b,F),e(b,G),e(b,I),e(b,u),v(u,t[0].settings.wsPort),e(l,K),e(l,_),e(_,N),e(_,Q),e(_,V),e(_,c),v(c,t[0].settings.frameRate),e(l,X),e(l,M),J||(Y=[y(r,"input",t[2]),y(U,"click",function(){ne(t[1](t[0].watch.wsUrl))&&t[1](t[0].watch.wsUrl).apply(this,arguments)}),y(i,"input",t[4]),y(u,"input",t[5]),y(c,"input",t[6])],J=!0)},p(m,[h]){t=m,h&1&&w!==(w=t[0].watch.placeholder.wsUrl)&&s(r,"placeholder",w),h&1&&r.value!==t[0].watch.wsUrl&&v(r,t[0].watch.wsUrl),h&1&&k!==(k=t[0].settings.placeholder.rtspUrl)&&s(i,"placeholder",k),h&1&&i.value!==t[0].settings.rtspUrl&&v(i,t[0].settings.rtspUrl),h&1&&O!==(O=t[0].settings.placeholder.wsPort)&&s(u,"placeholder",O),h&1&&u.value!==t[0].settings.wsPort&&v(u,t[0].settings.wsPort),h&1&&j!==(j=t[0].settings.placeholder.frameRate)&&s(c,"placeholder",j),h&1&&c.value!==t[0].settings.frameRate&&v(c,t[0].settings.frameRate)},i:Z,o:Z,d(m){m&&se(l),t[3](null),J=!1,le(Y)}}}function oe(t,l,o){let a={playerObj:null,playerCanvas:null,watch:{wsUrl:"ws://192.168.1.1:9999",placeholder:{wsUrl:"ws://192.168.1.1:9999"}},settings:{rtspUrl:"rtsp://user:okayokay9@192.168.1.21:554",wsPort:"9999",frameRate:"20",placeholder:{rtspUrl:"rtsp://user:password@192.168.1.21:554",wsPort:"9999",frameRate:"20"}}};function d(w){a.playerObj.destroy(),o(0,a.playerObj=new JSMpeg.Player(w,{canvas:a.playerCanvas}),a)}ae(async()=>{o(0,a.playerObj=new JSMpeg.Player(`ws://${window.location.hostname}:9999`,{canvas:a.playerCanvas}),a)});function f(){a.watch.wsUrl=this.value,o(0,a)}function P(w){re[w?"unshift":"push"](()=>{a.playerCanvas=w,o(0,a)})}function R(){a.settings.rtspUrl=this.value,o(0,a)}function C(){a.settings.wsPort=this.value,o(0,a)}function r(){a.settings.frameRate=this.value,o(0,a)}return[a,d,f,P,R,C,r]}class ue extends ${constructor(l){super(),x(this,l,oe,pe,ee,{})}}export{ue as default};
