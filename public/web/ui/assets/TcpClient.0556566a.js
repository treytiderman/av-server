import{S as Te,i as xe,s as Ae,e as o,c as u,t as y,f as we,a,b as J,h as t,j as T,m as Ee,l as C,o as Ie,q as Fe,d as Q,v as Le,w as Pe,x as De,y as Re,K as qe,n as Me}from"./index.eedbf297.js";import ye from"./Terminal.8a9dcca8.js";function Ce(l,s,e){const i=l.slice();return i[11]=s[e],i[12]=s,i[13]=e,i}function He(l){let s,e,i;return{c(){s=o("button"),s.textContent="Open",a(s,"class","green")},m(c,r){J(c,s,r),e||(i=C(s,"click",Se),e=!0)},p:Me,d(c){c&&Q(s),e=!1,i()}}}function je(l){let s,e,i;return{c(){s=o("button"),s.textContent="Close",a(s,"class","red")},m(c,r){J(c,s,r),e||(i=C(s,"click",Se),e=!0)},p:Me,d(c){c&&Q(s),e=!1,i()}}}function Oe(l){let s,e,i,c,r,x,O,A;function d(){l[7].call(e,l[12],l[13])}return{c(){s=o("div"),e=o("input"),c=u(),r=o("button"),r.textContent="Send",x=u(),a(e,"type","text"),a(e,"placeholder",i=l[11].placeholder),a(e,"class","svelte-pga3e4"),a(r,"class","green"),a(s,"class","flex nowrap")},m(h,g){J(h,s,g),t(s,e),T(e,l[11].value),t(s,c),t(s,r),t(s,x),O||(A=[C(e,"input",d),C(r,"click",function(){qe(l[1](l[11].value))&&l[1](l[11].value).apply(this,arguments)})],O=!0)},p(h,g){l=h,g&1&&i!==(i=l[11].placeholder)&&a(e,"placeholder",i),g&1&&e.value!==l[11].value&&T(e,l[11].value)},d(h){h&&Q(s),O=!1,De(A)}}}function Ke(l){let s,e,i,c,r,x,O,A,d,h,g,E,I,ee,te,le,b,j,K,ne,F,se,ie,ae,m,N,X,oe,L,pe,re,de,P,D,ue,Z,$,ce,M,fe,z,B,_e,U,V,ge,S,W,he,w,be,H,f,Y,me;function ve(n,p){return n[0].isOpen?je:He}let G=ve(l),k=G(l);w=new ye({props:{lines:l[0].lines}});let R=l[0].sends,_=[];for(let n=0;n<R.length;n+=1)_[n]=Oe(Ce(l,R,n));return{c(){s=o("article"),e=o("aside"),i=o("h2"),i.textContent="Connection Settings",c=u(),r=o("label"),x=y("IP Address"),O=o("br"),A=u(),d=o("input"),E=u(),I=o("label"),ee=y("Port"),te=o("br"),le=u(),b=o("input"),ne=u(),F=o("label"),se=y("Expected Delimiter"),ie=o("br"),ae=u(),m=o("input"),oe=u(),L=o("div"),pe=y("Encoding Mode"),re=o("br"),de=u(),P=o("div"),D=o("button"),ue=y("ASCII"),ce=u(),M=o("button"),fe=y("HEX"),_e=u(),k.c(),U=u(),V=o("div"),V.innerHTML=`<span class="dim">Carriage Return [CR] = \\r or \\x0D</span>  <br/> 
      <span class="dim">Line Feed [LF] = \\n or \\x0A</span>`,ge=u(),S=o("section"),W=o("h2"),W.textContent="Terminal",he=u(),we(w.$$.fragment),be=u(),H=o("div");for(let n=0;n<_.length;n+=1)_[n].c();a(d,"type","text"),a(d,"placeholder",h=l[0].settings.placeholder.ip),d.disabled=g=l[0].isOpen,a(d,"class","svelte-pga3e4"),a(b,"type","text"),a(b,"placeholder",j=l[0].settings.placeholder.port),b.disabled=K=l[0].isOpen,a(b,"class","svelte-pga3e4"),a(m,"type","text"),a(m,"placeholder",N=l[0].settings.placeholder.expectedDelimiter),m.disabled=X=l[0].isOpen,a(m,"class","svelte-pga3e4"),a(D,"class",Z=l[0].settings.encodingMode==="ascii"?"":"dim"),D.disabled=$=l[0].isOpen,a(M,"class",z=l[0].settings.encodingMode==="hex"?"":"dim"),M.disabled=B=l[0].isOpen,a(P,"class","flex even"),a(e,"class","grid svelte-pga3e4"),a(H,"class","grid"),a(S,"class","grid svelte-pga3e4"),a(s,"class","svelte-pga3e4")},m(n,p){J(n,s,p),t(s,e),t(e,i),t(e,c),t(e,r),t(r,x),t(r,O),t(r,A),t(r,d),T(d,l[0].settings.ip),t(e,E),t(e,I),t(I,ee),t(I,te),t(I,le),t(I,b),T(b,l[0].settings.port),t(e,ne),t(e,F),t(F,se),t(F,ie),t(F,ae),t(F,m),T(m,l[0].settings.expectedDelimiter),t(e,oe),t(e,L),t(L,pe),t(L,re),t(L,de),t(L,P),t(P,D),t(D,ue),t(P,ce),t(P,M),t(M,fe),t(e,_e),k.m(e,null),t(e,U),t(e,V),t(s,ge),t(s,S),t(S,W),t(S,he),Ee(w,S,null),t(S,be),t(S,H);for(let q=0;q<_.length;q+=1)_[q].m(H,null);f=!0,Y||(me=[C(d,"input",l[2]),C(b,"input",l[3]),C(m,"input",l[4]),C(D,"click",l[5]),C(M,"click",l[6])],Y=!0)},p(n,[p]){(!f||p&1&&h!==(h=n[0].settings.placeholder.ip))&&a(d,"placeholder",h),(!f||p&1&&g!==(g=n[0].isOpen))&&(d.disabled=g),p&1&&d.value!==n[0].settings.ip&&T(d,n[0].settings.ip),(!f||p&1&&j!==(j=n[0].settings.placeholder.port))&&a(b,"placeholder",j),(!f||p&1&&K!==(K=n[0].isOpen))&&(b.disabled=K),p&1&&b.value!==n[0].settings.port&&T(b,n[0].settings.port),(!f||p&1&&N!==(N=n[0].settings.placeholder.expectedDelimiter))&&a(m,"placeholder",N),(!f||p&1&&X!==(X=n[0].isOpen))&&(m.disabled=X),p&1&&m.value!==n[0].settings.expectedDelimiter&&T(m,n[0].settings.expectedDelimiter),(!f||p&1&&Z!==(Z=n[0].settings.encodingMode==="ascii"?"":"dim"))&&a(D,"class",Z),(!f||p&1&&$!==($=n[0].isOpen))&&(D.disabled=$),(!f||p&1&&z!==(z=n[0].settings.encodingMode==="hex"?"":"dim"))&&a(M,"class",z),(!f||p&1&&B!==(B=n[0].isOpen))&&(M.disabled=B),G===(G=ve(n))&&k?k.p(n,p):(k.d(1),k=G(n),k&&(k.c(),k.m(e,U)));const q={};if(p&1&&(q.lines=n[0].lines),w.$set(q),p&3){R=n[0].sends;let v;for(v=0;v<R.length;v+=1){const ke=Ce(n,R,v);_[v]?_[v].p(ke,p):(_[v]=Oe(ke),_[v].c(),_[v].m(H,null))}for(;v<_.length;v+=1)_[v].d(1);_.length=R.length}},i(n){f||(Ie(w.$$.fragment,n),f=!0)},o(n){Fe(w.$$.fragment,n),f=!1},d(n){n&&Q(s),k.d(),Le(w),Pe(_,n),Y=!1,De(me)}}}async function Se(){}function Ne(l,s,e){let i={isOpen:!1,settings:{ip:"192.168.1.9",port:23,expectedDelimiter:"\\r\\n",encodingMode:"ascii",placeholder:{ip:"192.168.1.9",port:23,expectedDelimiter:"\\r\\n"}},lines:[{wasReceived:!0,timestampISO:"2022-10-16T21:05:38.425Z",data:"No data yet..."}],sends:[{value:"ka 01 01\\r",placeholder:"ka 01 01\\r"},{value:"ka 01 00\\r",placeholder:"\xAA\xFE"},{value:"mc 01 02\\r",placeholder:"0A0A0CC203D60001s\r"}]};async function c(g){const E={path:i.settings.devicePath,message:g,messageType:i.settings.encodingMode,cr:!1,lf:!1};console.log("Send",E)}Re(async()=>{});function r(){i.settings.ip=this.value,e(0,i)}function x(){i.settings.port=this.value,e(0,i)}function O(){i.settings.expectedDelimiter=this.value,e(0,i)}const A=()=>e(0,i.settings.encodingMode="ascii",i),d=()=>e(0,i.settings.encodingMode="hex",i);function h(g,E){g[E].value=this.value,e(0,i)}return[i,c,r,x,O,A,d,h]}class $e extends Te{constructor(s){super(),xe(this,s,Ne,Ke,Ae,{})}}export{$e as default};
